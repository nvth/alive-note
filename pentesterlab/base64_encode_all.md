## Lý do sử dụng -len(payload) thay vì len(payload) trong biểu thức payload + '=' * (-len(payload) % 4) có thể liên quan đến quy ước về mã hóa và padding trong chuỗi base64.

Trong mã hóa base64, chuỗi cần được thêm ký tự padding "=" vào cuối để đảm bảo độ dài của chuỗi là bội số của 4. Để tính toán số lượng ký tự padding cần thêm, ta cần tìm độ dài của chuỗi gốc và tính toán phần dư khi chia cho 4.

Tuy nhiên, trong trường hợp này, sử dụng len(payload) trực tiếp trong phép tính có thể tạo ra kết quả không chính xác. Điều này liên quan đến cách Python xử lý phép tính modulo (%) với số âm.

Khi sử dụng len(payload) trong phép tính -len(payload) % 4, nếu len(payload) là một số dương, kết quả sẽ là không đúng vì phép tính modulo với số âm sẽ trả về một giá trị âm.

Ví dụ, nếu len(payload) là 6, thì len(payload) % 4 sẽ trả về 2, nhưng -len(payload) % 4 sẽ trả về -2. Điều này sẽ dẫn đến kết quả không chính xác khi thêm ký tự padding "=" vào cuối chuỗi.

Bằng cách sử dụng -len(payload) trong phép tính, ta đảm bảo rằng giá trị được đảo ngược dấu và phép tính modulo sẽ trả về kết quả không âm và chính xác.

Vì vậy, -len(payload) được sử dụng để tính toán số lượng ký tự padding "=" cần thêm vào cuối chuỗi base64-encoded trong biểu thức payload + '=' * (-len(payload) % 4).