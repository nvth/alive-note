## JWT bị strip dấu '='

### URL Encoding: 
JWT thường được truyền qua các kênh truyền thông như URL hoặc các trường dữ liệu HTML. Trong quá trình truyền dữ liệu qua các kênh này, có thể xảy ra quá trình URL encoding. Dấu '=' trong JWT có thể bị chuyển thành dấu '%3D' trong quá trình này.

### Padding: 
JWT sử dụng Base64 URL Encoding để mã hóa các phần Header và Payload. Base64 URL Encoding không sử dụng dấu '=' để thêm đệm (padding) vào cuối chuỗi nếu độ dài của chuỗi không chia hết cho 4. Vì vậy, nếu độ dài của chuỗi mã hóa không chia hết cho 4, dấu '=' sẽ bị bỏ đi.

### Không có phần Signature: 
Nếu JWT không có phần "Signature" (ví dụ: thuật toán None algorithm), thì có thể không có dấu '=' được tạo ra bởi phần Signature.

## Cách tạo chữ ký cho JWT
Quy trình tạo chữ ký cho JWT token thường bao gồm các bước sau:

### Chuẩn bị dữ liệu: 
Chuẩn bị các thành phần của JWT token, bao gồm phần header và phần payload. Phần header chứa thông tin về thuật toán sử dụng để tạo chữ ký (ví dụ: HS256), và phần payload chứa các thông tin chứa trong JWT (ví dụ: thông tin người dùng, quyền truy cập, v.v.).

### Chuỗi hóa: 
Nối phần header và phần payload thành một chuỗi duy nhất, thường được gọi là "signing input". Chuỗi này là thông điệp mà chúng ta sẽ tính toán chữ ký từ.

### Tạo chữ ký: 
Sử dụng một thuật toán mã hóa (ví dụ: HMAC-SHA256) và một khóa bí mật để tính toán chữ ký cho chuỗi signing input. Đối với thuật toán HS256, chúng ta sẽ sử dụng HMAC-SHA256 và một khóa bí mật để tính toán chữ ký.

### Mã hóa chữ ký: 
Mã hóa chữ ký đã tính toán thành một định dạng thích hợp để chuyển qua mạng hoặc lưu trữ. Thông thường, chữ ký được mã hóa bằng cách sử dụng Base64 encoding hoặc URL-safe Base64 encoding.

### Tạo JWT token: 
Ghép phần header, phần payload và chữ ký đã mã hóa thành một chuỗi JWT token hoàn chỉnh. Chuỗi này có thể được truyền qua mạng hoặc sử dụng trong các yêu cầu xác thực.